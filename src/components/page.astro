---
import Post from "@components/post.astro";
import Pagination from "@components/pagination.astro";
import type { CollectionEntry } from "astro:content";

type PageData = {
  data: CollectionEntry<"portfolio">[];
  start: number;
  end: number;
  size: number;
  total: number;
  currentPage: number;
  lastPage: number;
  url: {
    current: string;
    next?: string;
    prev?: string;
  };
};

const { page } = Astro.props as { page: PageData };
const { url } = page;
console.log("next url", url.next);
console.log("prev url", url.prev);
---

{page.data.map((post) => <Post post={post} preview={true} />)}
{(url.prev != null || url.next != null) && <Pagination url={url} />}
